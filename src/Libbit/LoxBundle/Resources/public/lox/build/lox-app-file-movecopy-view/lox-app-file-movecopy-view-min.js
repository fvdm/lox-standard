YUI.add("lox-app-file-movecopy-view",function(e,t){var n="Copy",r="Move",i="Cancel",s="Move file to...",o="Copy file to...",u="lox-folder-treeview",a="150px",f="move",l="copy",c=e.Base.create("fileMoveCopyView",e.View,[e.Rednose.View.Nav],{template:'<div><div class="{treeviewClass}"></div></div>',close:!0,buttons:{confirm:{position:"right",primary:!0},cancel:{value:i,position:"right"}},_treeView:null,initializer:function(){this._dialogViewEvents||(this._dialogViewEvents=[]);var t=this.get("container");this._dialogViewEvents.push(this.on({buttonCancel:this.destroy,buttonClose:this.destroy,buttonConfirm:this._handleConfirm}));switch(this.get("type")){case f:this.title=s,this.buttons.confirm.value=r;break;case l:this.title=o,this.buttons.confirm.value=n}t.setContent(e.Lang.sub(this.template,{treeviewClass:u})),t.one("."+u).setStyle("height",a),t.one("."+u).setStyle("overflowY","auto"),this._treeView=new e.Rednose.TreeView({container:t.one("."+u),model:this.get("modelTree")})},destructor:function(){(new e.EventHandle(this._dialogViewEvents)).detach(),this._treeView=null},render:function(){var e=this._treeView,t=e.rootNode.children[0];return t&&t.open(),e.render(),t&&t.select(),this},_handleConfirm:function(e){var t=this.get("model"),n=this.get("type"),r=this._treeView.getSelection(),i=r[0].get("path");e.data={model:t,path:i,type:n}}},{ATTRS:{type:{value:f},model:{value:new e.Lox.ItemModel},modelTree:{value:new e.Lox.App.FolderTree}}});e.namespace("Lox.App").FileMoveCopyView=c},"@VERSION@",{requires:["lox-app-folder-tree","rednose-app","rednose-treeview"]});

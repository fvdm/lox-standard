YUI.add("lox-app-item-model",function(e,t){var n=e.Base.create("itemModel",e.Model,[e.Rednose.Model.Spinner],{getBase:function(){var e=this.get("path").split("/");return e.pop(),e.join("/")},parse:function(e){return{id:e.path,title:e.title,isDir:e.is_dir,modifiedAt:e.modifiedAt,dateFormatted:e.date_formatted,path:e.path,mimeType:e.mime_type,size:e.size,icon:e.icon,parent:e.parent,children:e.children,isShare:e.is_share,isShared:e.is_shared}},sync:function(t,n,r){t==="read"&&e.io(YUI.Env.routing.metadata+(this.get("path")==="/"?"":this.get("path")),{method:"GET",on:{success:function(t,n){r(null,n.responseText&&e.JSON.parse(n.responseText))},failure:function(t,n){r(n.responseText&&e.JSON.parse(n.responseText))}}}),t==="delete"&&e.io(YUI.Env.routing.operations_delete,{method:"POST",data:{path:this.get("path")},on:{success:function(t,n){r(null,n.responseText&&e.JSON.parse(n.responseText))},failure:function(t,n){r(n.responseText&&e.JSON.parse(n.responseText))}}})}},{ATTRS:{title:{value:null},isDir:{value:null},isShare:{value:null},isShared:{value:null},modifiedAt:{value:null},path:{value:null},mimeType:{value:null},parent:{value:null,setter:function(e){return e===null?null:new n(e)}},children:{value:null,setter:function(t){if(t===null)return null;var r=[],i=this;return e.Array.each(t,function(e){r.push(new n(i.parse(e)))}),r}}}});e.namespace("Lox").ItemModel=n},"@VERSION@",{requires:["model","rednose-model-spinner"]});
